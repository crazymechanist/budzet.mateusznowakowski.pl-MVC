{% extends "base.html" %}

{% block title %}Item show{% endblock %}

{% block body %}

<h1>Item show</h1>


<form method="get" action="/item/show" id="formItem">
	<label for="inputAmount">Search</label>
	<input id="inputAmount" name="search" type="text" class="form-control" value="{{ filters.search}}"/>
	<label for="inputAmount">Min amount [PLN]:</label>
	<input id="inputAmount" name="min" type="number" step="0.01" min="0" class="form-control"  value="{{ filters.min}}" />
	<label for="inputAmount">Max amount [PLN]:</label>
	<input id="inputAmount" name="max" type="number" step="0.01" min="0" class="form-control"  value="{{ filters.max}}" />
	<label for="inputDate">Start date:</label>
	<input type="date"  id="sDate" name="sDate" class="form-control" value="{{ filters.sDate}}" />
	<label for="inputDate">End date:</label>
	<input type="date"  id="eDate" name="eDate" class="form-control" value="{{ filters.eDate}}" />
	<select name="sort" id="sort" class="form-control">
		{% if filters.sort is not empty %}<option value="{{ filters.sort }}"> {{ filters.sortDescTypes[filters.sort] }} </option>{% endif %}
		{% for short in filters.sortShortTypes %}
			{% if  filters.sort  != short %}
			<option value="{{ short }}"> {{ filters.sortDescTypes[short] }} </option>
			{% endif %}
		{% endfor %}
	</select>
	<select name="page" id="page" class="form-control">
		{% if filters.page is not empty %}<option value="{{ filters.page }}"> {{ (filters.page-1)*20+1 }}-{{ filters.page*20 }} </option>{% endif %}
		{% for i in 1..pages %}
			{% if  i  != filters.page %}
			<option value="{{ i }}">	{{ (i-1)*20+1 }}-{{ i*20 }}	</option>
			{% endif %}
		{% endfor %}
	</select>
	<button type="submit" class="btn btn-default">Go</button>
	<a href="\item\show?page={{ filters.page }}&sort={{ filters.sort }}" >Clear</a>
</form>


{% if moneyFlows is not empty %}
<ul>
	{% for moneyFlow in moneyFlows %}
	<div class="{{ moneyFlow.type }}">
		<dl class="row">
			<dt class="col-sm-2 ">Name:</dt>
			<dd class="col-sm-10">{{ moneyFlow.name }}</dd>
			<dt class="col-sm-2 ">Category:</dt>
			<dd class="col-sm-10">{{ moneyFlow.category }}</dd>
			<dt class="col-sm-2">Amount [PLN]:</dt>
			<dd class="col-sm-10">{{ moneyFlow.amount }}</dd>
			<dt class="col-sm-2">Date:</dt>
			<dd class="col-sm-10">{{ moneyFlow.date }}</dd>
			<dt class="col-sm-2">Description:</dt>
			<dd class="col-sm-10">{{ moneyFlow.description }}</dd>
		</dl>
		<div class="row">
			<form method="get" action="/item/edit" id="formItem" class="col-sm-2 ">
				<input type="hidden" id="id" name="id" value="{{ moneyFlow.id }}">
				<button type="submit" class="btn btn-default">Edit</button>
			</form>
			<form method="get" action="/item/confirm-delete" id="formItem" class="col-sm-2">
				<input type="hidden" id="id" name="id" value="{{ moneyFlow.id }}">
				<button type="submit" class="btn btn-default">Delete</button>
			</form>
		</div>
	</div>
	{% endfor %}
</ul>
{% endif %}

{% endblock %}
